<!doctype html>
<html lang="pl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GeneratorNPC — Specyfikacja modułu</title>
    <style>
      :root {
        color-scheme: dark;
      }
      body {
        margin: 0;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: #0b0f14;
        color: #e6edf3;
        line-height: 1.6;
      }
      main {
        max-width: 1100px;
        margin: 0 auto;
        padding: 32px 24px 80px;
      }
      h1,
      h2,
      h3 {
        font-weight: 600;
        margin-top: 32px;
      }
      h1 {
        margin-top: 0;
        font-size: 2.2rem;
      }
      p {
        margin: 12px 0;
      }
      ul,
      ol {
        margin: 12px 0 12px 24px;
      }
      section {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 12px;
        padding: 20px 24px;
        margin-bottom: 24px;
      }
      .badge {
        display: inline-block;
        padding: 2px 10px;
        border-radius: 999px;
        font-size: 0.85rem;
        background: rgba(88, 166, 255, 0.15);
        border: 1px solid rgba(88, 166, 255, 0.5);
        color: #c9e3ff;
        margin-left: 8px;
      }
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 16px;
      }
      .card {
        background: rgba(17, 24, 39, 0.6);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 10px;
        padding: 16px;
      }
      code {
        background: rgba(15, 23, 42, 0.7);
        padding: 2px 6px;
        border-radius: 6px;
        font-size: 0.95em;
      }
      .note {
        border-left: 4px solid #22c55e;
        padding-left: 12px;
        color: #d1fae5;
      }
      .warn {
        border-left: 4px solid #f59e0b;
        padding-left: 12px;
        color: #fde68a;
      }
      .footer {
        margin-top: 48px;
        font-size: 0.9rem;
        color: #9ca3af;
      }
    </style>
  </head>
  <body>
    <main>
      <h1>GeneratorNPC — Specyfikacja modułu <span class="badge">Etap 1: Pancerze + Bronie</span></h1>
      <p class="note">
        Ten dokument opisuje zakres pierwszego etapu rozbudowy GeneratorNPC: łączenie danych z
        Bestiariusza, Pancerzy i Broni oraz przygotowanie UI pod kolejne moduły (Talenty, Modlitwy,
        Psionika, Ekwipunek).
      </p>

      <section>
        <h2>1. Cel modułu</h2>
        <p>
          Użytkownik wybiera bazowy rekord z zakładki <strong>Bestiariusz</strong>, a następnie może
          opcjonalnie zmienić <strong>Pancerz</strong> i/lub <strong>Broń</strong>. Zmiany obowiązują
          wyłącznie w nowej zakładce „Generator NPC” i nie modyfikują danych źródłowych.
        </p>
        <p>
          Dane są pobierane z <code>https://cutelittlegoat.github.io/Repozytorium/data.json</code>.
        </p>
      </section>

      <section>
        <h2>2. Zakres UI (Etap 1)</h2>
        <div class="grid">
          <div class="card">
            <h3>2.1. Wybór Bestiariusza</h3>
            <ul>
              <li>Jednopolowy select „Nazwa” z zakładki Bestiariusz.</li>
              <li>Po wyborze wypełnia sekcję danych bazowych.</li>
            </ul>
          </div>
          <div class="card">
            <h3>2.2. Checkboxy sterujące</h3>
            <ul>
              <li>„Czy zmienić Pancerz?”</li>
              <li>„Czy zmienić Broń?”</li>
            </ul>
          </div>
          <div class="card">
            <h3>2.3. Sekcja Pancerza</h3>
            <ul>
              <li>Aktywna tylko po zaznaczeniu checkboxa.</li>
              <li>Wielokrotny wybór pancerzy z zakładki Pancerze.</li>
              <li>Wynikowy blok: Odporność (w tym WP), Wartość Pancerza, Cechy Pancerza.</li>
            </ul>
          </div>
          <div class="card">
            <h3>2.4. Sekcja Broni</h3>
            <ul>
              <li>Aktywna tylko po zaznaczeniu checkboxa.</li>
              <li>Wielokrotny wybór broni z zakładki Bronie.</li>
              <li>Wynikowy blok: Atak + Cechy Broni.</li>
            </ul>
          </div>
          <div class="card">
            <h3>2.5. Sekcje przyszłe</h3>
            <ul>
              <li>Checkboxy: Talent, Modlitwa, Psionika, Ekwipunek.</li>
              <li>W tej fazie obecne jako nieaktywne placeholdery.</li>
            </ul>
          </div>
        </div>
      </section>

      <section>
        <h2>3. Logika Pancerza</h2>
        <ol>
          <li>Pobierz z Bestiariusza: <strong>Odporność (w tym WP)</strong> i <strong>Wartość Pancerza</strong>.</li>
          <li>Wylicz <strong>Bazową Odporność</strong> = Odporność (w tym WP) − Wartość Pancerza.</li>
          <li>Po wyborze pancerzy:</li>
        </ol>
        <ul>
          <li>Wybierz najwyższe <strong>WP</strong> (z gwiazdką, jeśli występuje).</li>
          <li>Zbierz wszystkie cechy z kolumny <strong>Cechy</strong> (bez duplikatów).</li>
        </ul>
        <ol start="4">
          <li>Ustaw <strong>Wartość Pancerza</strong> = najwyższe WP.</li>
          <li>Ustaw <strong>Odporność (w tym WP)</strong> = Bazowa Odporność + najwyższe WP.</li>
          <li>Dodaj kolumnę <strong>Cechy Pancerza</strong> z listą cech (separator: średnik + spacja).</li>
        </ol>
        <p class="warn">
          Uwaga: Bestiariusz przechowuje Odporność wraz z WP, więc wyliczenie bazowej odporności
          jest kluczowe, aby poprawnie nadpisać pancerz.
        </p>
      </section>

      <section>
        <h2>4. Logika Broni</h2>
        <ul>
          <li>Wielokrotny wybór broni z zakładki Bronie.</li>
          <li>W polu <strong>Atak</strong> wpisz (separator: średnik + spacja):</li>
        </ul>
        <ul>
          <li>Nazwa</li>
          <li>Obrażenia</li>
          <li>DK</li>
          <li>PP</li>
          <li>Zasięg</li>
          <li>Szybkostrzelność</li>
        </ul>
        <ul>
          <li>Po wyborze minimum jednej broni dodaj kolumnę <strong>Cechy Broni</strong>.</li>
          <li>Cechy przenieś z kolumny <strong>Cechy</strong> (bez duplikatów).</li>
        </ul>
      </section>

      <section>
        <h2>5. Opisy cech (Pancerz i Broń)</h2>
        <ul>
          <li>Zachować mechanizm kliknięcia tagu cechy i wyświetlenia opisu.</li>
          <li>Źródłem opisów pozostaje sekcja <code>_meta.traits</code> z <code>data.json</code>.</li>
        </ul>
      </section>

      <section>
        <h2>6. Dane wejściowe i mapowanie</h2>
        <div class="grid">
          <div class="card">
            <h3>Bestiariusz</h3>
            <ul>
              <li>Nazwa (select)</li>
              <li>Odporność (w tym WP)</li>
              <li>Wartość Pancerza</li>
              <li>Inne kolumny do podglądu bazowego rekordu</li>
            </ul>
          </div>
          <div class="card">
            <h3>Pancerze</h3>
            <ul>
              <li>Nazwa (multiselect)</li>
              <li>WP</li>
              <li>Cechy</li>
            </ul>
          </div>
          <div class="card">
            <h3>Bronie</h3>
            <ul>
              <li>Nazwa (multiselect)</li>
              <li>Obrażenia</li>
              <li>DK</li>
              <li>PP</li>
              <li>Zasięg</li>
              <li>Szybkostrzelność</li>
              <li>Cechy</li>
            </ul>
          </div>
        </div>
      </section>

      <section>
        <h2>7. Placeholdery na kolejne etapy</h2>
        <p>
          UI powinno uwzględnić sekcje (na razie nieaktywne) dla: <strong>Talentów</strong>,
          <strong>Modlitw</strong>, <strong>Psioniki</strong> oraz <strong>Ekwipunku</strong>.
        </p>
      </section>

      <p class="footer">
        Dokument roboczy — zakres aktualny: Pancerze + Bronie. Kolejne kroki: Talenty, Modlitwy,
        Psionika, Ekwipunek.
      </p>
    </main>
  </body>
</html>
